<html>
<head>
	<title>Bank | Churn Prediction</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<style>
	.nav-item a:hover {
		border-bottom: 4px solid grey;
	}
	.nav-item a.active {
		font-weight: 700;
		border-bottom: .25rem solid white;
	}
	.nav-item{
		font-weight: 700;
	}
	nav {
		text-shadow: 0 .05rem .1rem rgba(0, 0, 0, .5);
		box-shadow: inset 0 0 5rem rgba(0, 0, 0, .5);
	}
	</style>
</head>

<body ng-app="myApp" ng-controller="myCtrl">
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark py-3">
		<div class="container">
			<a class="navbar-brand" href=http://localhost:5000/home/><h1 class="h3">Bank | Churn Prediction</h1></a>
		</button>
		<ul class="navbar-nav ml-auto">
			<li class="nav-item">
				<a class="nav-link" href=http://localhost:5000/home/>Home</a>
			</li>
			<li class="nav-item active">
				<a class="nav-link active" href=http://localhost:5000/home/mainpage/>App</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="http://localhost:5000/how/">How it Works</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="http://localhost:5000/help/">Help</a>
			</li>
		</ul>
		</form
	</div>
</nav>

<form>
	<div class="container my-3">

		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="costumerid" class="col-sm-6 col-form-label"><b>Costumer ID</b></label>
				<input id="costumerid" type="number" class="form-control" name="costumerid" placeholder="E.g. 15123456" required>
			</div>

			<div class="form-group col-md-6">
				<label for="surename" class="col-sm-6 col-form-label"><b>Surename</b></label>
				<input id="surename"  type="text" class="form-control" name="surename" placeholder="E.g. Watson" required>
			</div>
		</div>

		<div class="form-row">
			<div class="form-group col-md-2">
				<label for="gender" class="col-sm-2 col-form-label"><b>Gender</b></label>
				<fieldset>
					<div class="custom-control custom-radio">
						<input class="custom-control-input custom-control-inline" type="radio" id="gender" ng-model="data.Gender" name="gender" value="Male" required>
						<label class="custom-control-label" for="gender">Male</label>
					</div>
					<div class="custom-control custom-radio">
						<input class="custom-control-input custom-control-inline" type="radio" id="gender1" ng-model="data.Gender" name="gender" value="Female" required>
						<label class="custom-control-label" for="gender1">Female</label>
					</div>
				</fieldset>
			</div>

			<div class="form-group col-md-4	">
				<label for="age" class="col-sm-4 col-form-label"><b>Age</b></label>
				<input id="age"  type="number" class="form-control" placeholder="E.g. 30" name="age" ng-model="data.Age" required>
			</div>

			<div class="form-group col-md-6">
				<label for="geography" class="col-sm-6 col-form-label"><b>Geography</b></label>
				<select class="form-control" ng-model="data.Geography" placeholder="Select" required>
					<option disabled selected value> Choose... </option>
					<option id="geography" name="geography" value="France">France</option>
					<option id="geography" name="geography" value="Germany">Germany</option>
					<option id="geography" name="geography" value="Spain">Spain</option>
				</select>
			</div>
		</div>

		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="creditscore" class="col-sm-3 col-form-label"><b>Credit Score</b></label>
				<input id="creditscore" type="number" class="form-control" name="creditscore" ng-model="data.CreditScore" placeholder="E.g. 500" required>
			</div>

			<div class="form-group col-md-3">
				<label for="tenure" class="col-sm-2 col-form-label"><b>Tenure</b></label>
				<input id="tenure"  type="number" class="form-control" placeholder="E.g. 5" name="tenure" ng-model="data.Tenure" required>
			</div>

			<div class="form-group col-md-3">
				<label for="numberofproduct" class="col-sm-8 col-form-label"><b>Number of Product</b></label>
				<input id="numberofproduct"  type="number" class="form-control" placeholder="E.g. 3" name="numberofproduct" ng-model="data.NumOfProducts" required>
			</div>
		</div>

		<div class="form-group col-md-13">
			<label for="balance" class="col-sm-12 col-form-label"><b>Balance</b></label>
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span class="input-group-text">$</span>
				</div>
				<input id="balance"  type="number" class="form-control" placeholder="Eg. 100000" name="balance" ng-model="data.Balance" aria-label="Amount (to the nearest dollar)" required>
				<div class="input-group-append">
					<span class="input-group-text">.00</span>
				</div>
			</div>
		</div>

		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="hasacard" class="col-sm-6 col-form-label"><b>Has Credit Card</b></label>
				<fieldset>
					<div class="custom-control custom-radio custom-control-inline">
						<input id="hasacard" type="radio" ng-model="data.HasCrCard" name="hasacard" value="1" required class="custom-control-input">
						<label class="custom-control-label" for="hasacard">Yes</label>
					</div>
					<div class="custom-control custom-radio custom-control-inline">
						<input id="hasacard1" type="radio" ng-model="data.HasCrCard" name="hasacard" value="0" required class="custom-control-input">
						<label class="custom-control-label" for="hasacard1">No</label>
					</div>
				</fieldset>
			</div>

			<div class="form-group col-md-6">
				<label for="isactivemember" class="col-sm-6 col-form-label"><b>Is Active Member</b></label>
				<fieldset>
					<div class="custom-control custom-radio custom-control-inline">
						<input type="radio" id="isactivemember" ng-model="data.IsActiveMember" name="isactivemember" value="1" required class="custom-control-input">
						<label class="custom-control-label" for="isactivemember">Yes</label>
					</div>
					<div class="custom-control custom-radio custom-control-inline">
						<input id="isactivemember1" type="radio" ng-model="data.IsActiveMember" name="isactivemember" value="0" required class="custom-control-input">
						<label class="custom-control-label" for="isactivemember1">No</label>
					</div>
					<fieldset>
					</div>
				</div>

				<div class="form-group col-md-13">
					<label for="estimatedsalary" class="col-sm-12 col-form-label"><b>Estimated Salary</b></label>
					<div class="input-group mb-3">
						<div class="input-group-prepend">
							<span class="input-group-text">$</span>
						</div>
						<input id="estimatedsalary" type="number" class="form-control" placeholder="Eg. 10000" name="estimatedsalary" ng-click="submit()" ng-model="data.EstimatedSalary" aria-label="Amount (to the nearest dollar)" required>
						<div class="input-group-append">
							<span class="input-group-text">.00</span>
						</div>
					</div>
				</div>

				<div class="form-group row my-4">
					<div class="col-md-12">
						<button type="button" id="predict" name="predict" class="btn btn-dark btn-lg btn-block" ng-click="submit()" data-toggle="modal" data-target="#result_modal" value="Predict">Predict</button>
					</div>
				</div>

				<div class="modal fade" id="result_modal" tabindex="-1" role="dialog" aria-labelledby="result_modalLabel" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="result_modalLabel">Prediction</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<p style="text-align:center;"><b>This Customer is potentially going to :</b></p>
								<h4 style="text-align:center;"><b>"{: result :}"</b></h4>
							</div>
							<div class="modal-footer">
								<p>&nbsp;</p>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>

		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.4/angular-material.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>

		<script>
		var app = angular.module('myApp', ['ngMaterial']);
		app.config(['$interpolateProvider', function($interpolateProvider) {
			$interpolateProvider.startSymbol('{:');
			$interpolateProvider.endSymbol(':}');
		}]);

		app.controller('myCtrl', ['$scope', '$http',
		function($scope, $http) {
			$scope.data = {};

			$scope.submit = function() {
				console.log($scope.data)
				$scope.result = "Please wait...";

				$http({
					method : 'POST',
					url : 'http://localhost:5000/mainpage/predict/',
					headers: {
						'Content-Type': 'application/json'
					},
					data: $scope.data
				}).success(function(data, status, headers, config) {
					$scope.result = data;

				}).error(function(data, status, headers, config) {
					$scope.result = 'Please fill in all Required Fields';

				});

			}
		}
	]);
	</script>

</body>
</html>
